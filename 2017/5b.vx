#!/usr/bin/env vx

const bindir = dirname realpath argv[ 0 ]

var data = (load bindir "/5.txt").lines() map int
var _data
_data = [0, 3, 0, 1, -3]

var total = 0

var ip = 0

const range = 0 -> data.length

while ip in range do
{
	++total
	
	if u16 total == 0 then
	{
		#warn rep (total, ip)
	}
	
	const offset = data[ ip ]
	
	const k = +(offset < 3) * 2 - 1
	
	data[ ip ] = offset + k
	
	ip += offset
}

print total
