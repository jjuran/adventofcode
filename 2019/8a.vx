#!/usr/bin/env vx

const bindir = dirname realpath argv[ 0 ]

const data = (load bindir "/8.txt").lines()[0]

const w = 25
const h = 6

const npx = w * h

const layers = [data / -npx]

def count (s, c)
{
	return (s ver {v == c}).length
}

# We can't use count() with `via` until purity analysis improves.

const fewest0 = Iter.min layers via { (v ver {v == '0'}).length }

print (count( fewest0, '1' ) * count( fewest0, '2' ))
